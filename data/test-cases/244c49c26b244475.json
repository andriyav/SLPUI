{"uid":"244c49c26b244475","name":"test_currency_code_5_674","fullName":"tests.test_checklist.TestPromotionChecklist#test_currency_code_5_674","historyId":"c05c3fed28304d80665bf4bcdfaab20a","time":{"start":1736031483403,"stop":1736031494689,"duration":11286},"description":"Currency_code must be UPPER [with source='674']","descriptionHtml":"<p>Currency_code must be UPPER [with source='674']</p>\n","status":"broken","statusMessage":"UnboundLocalError: cannot access local variable 'is_upper' where it is not associated with a value","statusTrace":"self = <tests.test_checklist.TestPromotionChecklist testMethod=test_currency_code_5_674>\nsource = '674'\n\n    @allure.testcase('9')\n    @parameterized.expand(sources)\n    def test_currency_code(self, source):\n        '''Currency_code must be UPPER'''\n        print('''Currency_code must be UPPER''', flush=True)\n        print(f\"kw_id = {source}\", flush=True)\n        WebDriverWait(self.driver, 30).until(EC.element_to_be_clickable(SOURCE_ID))\n        SLPMain(self.driver).source_select(source)\n        metadata_numbers = ListComponent(self.driver).get_metadata_number()\n        for metadata in range(1, metadata_numbers):\n            class_txt = ListComponent(self.driver).get_metadata_text(metadata + 1)\n            with self.subTest(metadata=class_txt):\n                try:\n                    SLPMain(self.driver).metadata_main_select(metadata)\n                    SLPMain(self.driver).impl_wait_metadata()\n                    field = ListComponent(self.driver).get_txt_get_field('currency_code')\n                    match = re.search(r\"const=([A-Za-z]{3})\", field)\n                    if match:\n                        currency_code = match.group(1)\n                        is_upper = currency_code.isupper()\n                    try:\n>                       self.assertTrue(is_upper)\nE                       UnboundLocalError: cannot access local variable 'is_upper' where it is not associated with a value\n\ntests/test_checklist.py:319: UnboundLocalError\n\nDuring handling of the above exception, another exception occurred:\n\na = (<tests.test_checklist.TestPromotionChecklist testMethod=test_currency_code_5_674>,)\nkw = {}\n\n    @wraps(func)\n    def standalone_func(*a, **kw):\n>       return func(*(a + p.args), **p.kwargs, **kw)\n\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/parameterized/parameterized.py:620: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.test_checklist.TestPromotionChecklist testMethod=test_currency_code_5_674>\nsource = '674'\n\n    @allure.testcase('9')\n    @parameterized.expand(sources)\n    def test_currency_code(self, source):\n        '''Currency_code must be UPPER'''\n        print('''Currency_code must be UPPER''', flush=True)\n        print(f\"kw_id = {source}\", flush=True)\n        WebDriverWait(self.driver, 30).until(EC.element_to_be_clickable(SOURCE_ID))\n        SLPMain(self.driver).source_select(source)\n        metadata_numbers = ListComponent(self.driver).get_metadata_number()\n        for metadata in range(1, metadata_numbers):\n            class_txt = ListComponent(self.driver).get_metadata_text(metadata + 1)\n            with self.subTest(metadata=class_txt):\n                try:\n                    SLPMain(self.driver).metadata_main_select(metadata)\n                    SLPMain(self.driver).impl_wait_metadata()\n                    field = ListComponent(self.driver).get_txt_get_field('currency_code')\n                    match = re.search(r\"const=([A-Za-z]{3})\", field)\n                    if match:\n                        currency_code = match.group(1)\n                        is_upper = currency_code.isupper()\n                    try:\n                        self.assertTrue(is_upper)\n                        print(f'Metadata = {class_txt} Ok ✅', flush=True)\n                    except:\n                        print(f'Metadata = {class_txt} Failed ❌ in {field}', flush=True)\n>                       self.assertTrue(is_upper)\nE                       UnboundLocalError: cannot access local variable 'is_upper' where it is not associated with a value\n\ntests/test_checklist.py:323: UnboundLocalError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_unittest_setUpClass_fixture_TestPromotionChecklist","time":{"start":1736030911162,"stop":1736030911162,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Currency_code must be UPPER [with source='674']","status":"broken","statusMessage":"UnboundLocalError: cannot access local variable 'is_upper' where it is not associated with a value","statusTrace":"self = <tests.test_checklist.TestPromotionChecklist testMethod=test_currency_code_5_674>\nsource = '674'\n\n    @allure.testcase('9')\n    @parameterized.expand(sources)\n    def test_currency_code(self, source):\n        '''Currency_code must be UPPER'''\n        print('''Currency_code must be UPPER''', flush=True)\n        print(f\"kw_id = {source}\", flush=True)\n        WebDriverWait(self.driver, 30).until(EC.element_to_be_clickable(SOURCE_ID))\n        SLPMain(self.driver).source_select(source)\n        metadata_numbers = ListComponent(self.driver).get_metadata_number()\n        for metadata in range(1, metadata_numbers):\n            class_txt = ListComponent(self.driver).get_metadata_text(metadata + 1)\n            with self.subTest(metadata=class_txt):\n                try:\n                    SLPMain(self.driver).metadata_main_select(metadata)\n                    SLPMain(self.driver).impl_wait_metadata()\n                    field = ListComponent(self.driver).get_txt_get_field('currency_code')\n                    match = re.search(r\"const=([A-Za-z]{3})\", field)\n                    if match:\n                        currency_code = match.group(1)\n                        is_upper = currency_code.isupper()\n                    try:\n>                       self.assertTrue(is_upper)\nE                       UnboundLocalError: cannot access local variable 'is_upper' where it is not associated with a value\n\ntests/test_checklist.py:319: UnboundLocalError\n\nDuring handling of the above exception, another exception occurred:\n\na = (<tests.test_checklist.TestPromotionChecklist testMethod=test_currency_code_5_674>,)\nkw = {}\n\n    @wraps(func)\n    def standalone_func(*a, **kw):\n>       return func(*(a + p.args), **p.kwargs, **kw)\n\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/parameterized/parameterized.py:620: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.test_checklist.TestPromotionChecklist testMethod=test_currency_code_5_674>\nsource = '674'\n\n    @allure.testcase('9')\n    @parameterized.expand(sources)\n    def test_currency_code(self, source):\n        '''Currency_code must be UPPER'''\n        print('''Currency_code must be UPPER''', flush=True)\n        print(f\"kw_id = {source}\", flush=True)\n        WebDriverWait(self.driver, 30).until(EC.element_to_be_clickable(SOURCE_ID))\n        SLPMain(self.driver).source_select(source)\n        metadata_numbers = ListComponent(self.driver).get_metadata_number()\n        for metadata in range(1, metadata_numbers):\n            class_txt = ListComponent(self.driver).get_metadata_text(metadata + 1)\n            with self.subTest(metadata=class_txt):\n                try:\n                    SLPMain(self.driver).metadata_main_select(metadata)\n                    SLPMain(self.driver).impl_wait_metadata()\n                    field = ListComponent(self.driver).get_txt_get_field('currency_code')\n                    match = re.search(r\"const=([A-Za-z]{3})\", field)\n                    if match:\n                        currency_code = match.group(1)\n                        is_upper = currency_code.isupper()\n                    try:\n                        self.assertTrue(is_upper)\n                        print(f'Metadata = {class_txt} Ok ✅', flush=True)\n                    except:\n                        print(f'Metadata = {class_txt} Failed ❌ in {field}', flush=True)\n>                       self.assertTrue(is_upper)\nE                       UnboundLocalError: cannot access local variable 'is_upper' where it is not associated with a value\n\ntests/test_checklist.py:323: UnboundLocalError","steps":[],"attachments":[{"uid":"a68fc4145e739e54","name":"stdout","source":"a68fc4145e739e54.txt","type":"text/plain","size":193}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"_unittest_setUpClass_fixture_TestPromotionChecklist::0","time":{"start":1736033792678,"stop":1736033792679,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_checklist"},{"name":"subSuite","value":"TestPromotionChecklist"},{"name":"host","value":"fv-az570-511"},{"name":"thread","value":"2814-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_checklist"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"244c49c26b244475.json","parameterValues":[]}